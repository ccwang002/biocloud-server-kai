# -*- coding: utf-8 -*-
# Generated by Django 1.9.7 on 2016-06-09 09:27
from __future__ import unicode_literals

from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('data_sources', '0004_auto_20160607_1238'),
    ]

    operations = [
        migrations.CreateModel(
            name='Condition',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('condition', models.CharField(help_text='Name of the condition', max_length=512)),
                ('sample_name', models.CharField(blank=True, max_length=512, verbose_name='sample name')),
                ('strand', models.CharField(blank=True, choices=[('1', 'R1 (forward)'), ('2', 'R2 (reversed)')], help_text='Strand for the sequencing type of data sources. Usually the file is sufficed with R1 (forward) or R2 (reversed). If the data source is not stranded or not of sequencing type, leave this field blank.', max_length=4, verbose_name='read strand')),
                ('data_source', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='exp_conditions', to='data_sources.DataSource')),
            ],
        ),
        migrations.CreateModel(
            name='Experiment',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=512, verbose_name='name')),
                ('description', models.TextField(blank=True, help_text='Description about this experiment. Can be written in <a href="http://commonmark.org/">Markdown</a> markup language.', verbose_name='description')),
                ('data_sources', models.ManyToManyField(through='experiments.Condition', to='data_sources.DataSource')),
            ],
        ),
        migrations.AddField(
            model_name='condition',
            name='experiment',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='data_source_conditions', to='experiments.Experiment'),
        ),
        migrations.AlterUniqueTogether(
            name='condition',
            unique_together=set([('experiment', 'condition', 'data_source')]),
        ),
    ]
